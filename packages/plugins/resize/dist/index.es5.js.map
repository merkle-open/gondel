{"version":3,"file":"index.es5.js","sources":["../../../core/dist/GondelPluginUtils.js","../../../core/dist/GondelDomUtils.js","index.js"],"sourcesContent":["var basePluginListener = function (result, data, next) { return next(result); };\n// Global plugin events registry\nvar pluginEventRegistry = window.__gondelPluginEvents || { pluginMapping: {}, pluginEvents: {} };\nwindow.__gondelPluginEvents = pluginEventRegistry;\n/** Global Plugin Event Handler Registry */\nexport var pluginEvents = pluginEventRegistry.pluginEvents;\n// Mapping to track if plugin was already registered to prevent double registrations\nvar pluginMapping = pluginEventRegistry.pluginMapping;\nexport function fireGondelPluginEvent(eventName, initialValue, data, callback) {\n    var isSyncron = false;\n    var callbackResult;\n    // Execute all bound events for the given name\n    // if they exist\n    (pluginEvents[eventName] || basePluginListener)(initialValue, data, function (processedResult) {\n        isSyncron = true;\n        callbackResult = callback ? callback(processedResult) : processedResult;\n    });\n    // Add a guard to prevent asyncron plugin listeners\n    // to simplify the usage of fireGondelPluginEvent\n    if (!isSyncron) {\n        throw new Error(\"Async plugin listener\");\n    }\n    return callbackResult;\n}\n/**\n * Fire an async event which allows gondel plugins to add features to gondel\n */\nexport function fireAsyncGondelPluginEvent(eventName, initialValue, data) {\n    return new Promise(function (resolve) {\n        (pluginEvents[eventName] || basePluginListener)(initialValue, data, function (result) {\n            resolve(result);\n        });\n    });\n}\n/**\n * Allow plugins to hook into the gondel event system\n */\nexport function addGondelPluginEventListener(pluginName, eventName, eventListenerCallback) {\n    // Prevent any event registration if this pluginHandlerName\n    // has already been used\n    var pluginHandlerNamePerEvent = eventName + \"#\" + pluginName;\n    if (pluginMapping[pluginHandlerNamePerEvent]) {\n        return;\n    }\n    // Flag plugin as registered\n    pluginMapping[pluginHandlerNamePerEvent] = true;\n    // Ensure that an entry for the given event name exists\n    if (!pluginEvents[eventName]) {\n        pluginEvents[eventName] = basePluginListener;\n    }\n    var previousEventHandler = pluginEvents[eventName];\n    pluginEvents[eventName] = function wrapCallback(result, data, next) {\n        previousEventHandler(result, data, function callNextPlugin(modifiedResult, _, firstNext) {\n            eventListenerCallback(modifiedResult, data, function bindData(result) {\n                next(result, data, firstNext);\n            });\n        });\n    };\n}\n//# sourceMappingURL=GondelPluginUtils.js.map","import { getComponentRegistry } from \"./GondelComponentRegistry\";\nimport { startComponentsFromRegistry } from \"./GondelComponentStarter\";\nexport var internalGondelRefAttribute = \"_gondel_\";\nexport var internalGondelAsyncRefAttribute = \"_gondelA_\";\n/**\n * Returns true if the given object is a single Element\n */\nfunction isElement(domNode) {\n    return domNode.nodeType !== undefined;\n}\n/**\n * This function normalizes takes one of the following:\n *  + document query result\n *  + dom node array\n *  + jquery object\n *  + a single dom node\n * and turns it into a single dom node\n */\nexport function getFirstDomNode(domNode) {\n    if (isElement(domNode)) {\n        return domNode;\n    }\n    return domNode[0];\n}\n/**\n * Start all nodes in the given context\n */\nexport function startComponents(domContext, namespace) {\n    if (namespace === void 0) { namespace = \"g\"; }\n    var registry = getComponentRegistry(namespace);\n    return startComponentsFromRegistry(registry, domContext ? getFirstDomNode(domContext) : document.documentElement, namespace);\n}\n/**\n * Stop all nodes in the given context\n */\nexport function stopComponents(domContext, namespace) {\n    if (namespace === void 0) { namespace = \"g\"; }\n    var components = findComponents(domContext, undefined, namespace);\n    if (domContext && hasMountedGondelComponent(domContext)) {\n        components.unshift(getComponentByDomNode(domContext));\n    }\n    components.forEach(function (component) { return component.stop(); });\n}\n/**\n * Checks if a component is mounted on a certain DOM node\n */\nexport function hasMountedGondelComponent(domNode, namespace) {\n    if (namespace === void 0) { namespace = \"g\"; }\n    var firstNode = getFirstDomNode(domNode);\n    var gondelComponent = firstNode[internalGondelRefAttribute + namespace];\n    if (!gondelComponent || !gondelComponent._ctx) {\n        // no anchor prop found or ctx missing. function is needed\n        // that we can type the `getComponentByDomNode` without possible\n        // returnal of undefined.\n        return false;\n    }\n    return true;\n}\n/**\n * Returns the gondel instance for the given HtmlELement\n */\nexport function getComponentByDomNode(domNode, namespace) {\n    if (namespace === void 0) { namespace = \"g\"; }\n    var gondelComponent = extractComponent(getFirstDomNode(domNode), namespace);\n    if (!gondelComponent) {\n        throw new Error(\"Could not find a started gondel component in namespace \\\"\" + namespace + \"\\\",\\nplease check if your component is mounted via 'hasMountedGondelComponent'\");\n    }\n    return gondelComponent;\n}\n/**\n * Internal helper function of getComponentByDomNode\n *\n * Returns the gondel instance from a known HtmlElement\n * This function is an internal helper with a possible undefined\n * return value.\n */\nexport function extractComponent(element, namespace) {\n    var gondelComponent = element[internalGondelRefAttribute + namespace];\n    // Stop if this dom node is not known to gondel\n    if (gondelComponent && gondelComponent._ctx) {\n        return gondelComponent;\n    }\n}\n/**\n * Returns the gondel instance for the given HtmlELement once it is booted\n */\nexport function getComponentByDomNodeAsync(domNode, namespace) {\n    if (namespace === void 0) { namespace = \"g\"; }\n    var firstNode = getFirstDomNode(domNode);\n    var gondelComponent = firstNode[internalGondelAsyncRefAttribute + namespace];\n    // Stop if this dom node is not known to gondel\n    if (!gondelComponent) {\n        return Promise.reject(undefined);\n    }\n    // or the component is already booted up return it\n    if (gondelComponent._ctx) {\n        return Promise.resolve(gondelComponent);\n    }\n    // Wait the component to boot up and return it\n    return gondelComponent.then(function () { return firstNode[internalGondelRefAttribute + namespace]; });\n}\n/**\n * Returns all components inside the given node\n */\nexport function findComponents(domNode, componentName, namespace) {\n    if (domNode === void 0) { domNode = document.documentElement; }\n    if (namespace === void 0) { namespace = \"g\"; }\n    var firstNode = getFirstDomNode(domNode);\n    var components = [];\n    var attribute = \"_gondel_\" + namespace;\n    var nodes = firstNode.querySelectorAll(\"[data-\" + namespace + \"-name\" + (componentName ? \"=\\\"\" + componentName + \"\\\"\" : \"\") + \"]\");\n    for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        var gondelComponentInstance = node[attribute];\n        // Verify that the component is fully booted\n        if (gondelComponentInstance && gondelComponentInstance._ctx === node) {\n            components.push(gondelComponentInstance);\n        }\n    }\n    return components;\n}\n//# sourceMappingURL=GondelDomUtils.js.map","/**\n * This is a gondel plugin which add a custom gondel resize event\n */\nimport { addGondelPluginEventListener, getComponentByDomNode } from \"@gondel/core\";\n/**\n * The COMPONENT_RESIZED_EVENT event will be fired if a component size was changed because of a browser window resize\n */\nexport var COMPONENT_RESIZED_EVENT = \"@gondel/plugin-resize--component-resized\";\n/**\n * The WINDOW_RESIZED_EVENT event will be fired if the browser window was resized\n */\nexport var WINDOW_RESIZED_EVENT = \"@gondel/plugin-resize--window-resized\";\n/**\n * This function returns all components for the given eventRegistry which can be found in the dom.\n */\nfunction getComponentsInEventRegistry(eventRegistry, namespace) {\n    var selector = Object.keys(eventRegistry)\n        .map(function (componentName) { return \"[data-\" + namespace + \"-name=\\\"\" + componentName + \"\\\"]\"; })\n        .join(\",\");\n    if (!selector) {\n        return [];\n    }\n    var componentElements = document.documentElement.querySelectorAll(selector);\n    var components = [];\n    for (var i = 0; i < componentElements.length; i++) {\n        var component = getComponentByDomNode(componentElements[i], namespace);\n        if (component) {\n            components.push(component);\n        }\n    }\n    return components;\n}\n/**\n * Add @EventListener('resize')\n *\n * This will allow components to listen for throttled window resize events\n * The resize event will only be fired for a component if the width or the height of the component changed\n */\nvar initializeResizeEvent = function (eventRegistry, namespace, eventName) {\n    var isRunning = false;\n    var frameIsRequested = false;\n    var resizeDoneTimer;\n    var componentInformation;\n    var fireResizeEvent = eventName === WINDOW_RESIZED_EVENT ? fireWindowResizeEvent : fireComponentResizeEvent;\n    /**\n     * This handler is called if a new resize event happens.\n     * A resize event is new if no resize occurred for 250ms\n     */\n    function startResizeWatching(event) {\n        var components = getComponentsInEventRegistry(eventRegistry, namespace);\n        isRunning = true;\n        // The resize listener is fired very often\n        // for performance optimisations we search and store\n        // all components during the initial start event\n        componentInformation = components.map(function (component) {\n            var size = component.__resizeSize || {\n                width: 0,\n                height: 0\n            };\n            var gondelComponentHandlers = eventRegistry[component._componentName];\n            return {\n                component: component,\n                node: component._ctx,\n                selectors: Object.keys(gondelComponentHandlers).map(function (selector) {\n                    return gondelComponentHandlers[selector].map(function (handlerOption) { return component[handlerOption.handlerName]; });\n                }),\n                width: size.width,\n                height: size.height\n            };\n        });\n        fireResizeEvent(event);\n    }\n    /**\n     * Clean up after no resize event happened for 250ms\n     */\n    function stopResizeWatching() {\n        // If there is still a throttled resize handler\n        // wait until it is done\n        if (frameIsRequested) {\n            requestAnimationFrame(stopResizeWatching);\n            return;\n        }\n        // Memory cleanup\n        isRunning = false;\n        componentInformation = undefined;\n    }\n    /**\n     * Check which modules changed in size, are still running and call their event handler\n     */\n    function fireComponentResizeEvent(event) {\n        frameIsRequested = false;\n        if (!componentInformation) {\n            return;\n        }\n        var newSizes = componentInformation.map(function (_a) {\n            var node = _a.node;\n            return ({\n                width: node.clientWidth,\n                height: node.clientHeight\n            });\n        });\n        var handlerResults = [];\n        componentInformation.forEach(function (componentInformation, i) {\n            var newSize = newSizes[i];\n            // Skip if the size did not change\n            if (newSize.width === componentInformation.width &&\n                newSize.height === componentInformation.height) {\n                return;\n            }\n            // Skip if the component is not running anymore\n            if (componentInformation.component._stopped) {\n                return;\n            }\n            componentInformation.component.__resizeSize = newSize;\n            componentInformation.width = newSize.width;\n            componentInformation.height = newSize.height;\n            componentInformation.selectors.forEach(function (selector) {\n                return selector.forEach(function (handler) {\n                    return handlerResults.push(handler.call(componentInformation.component, event, newSize));\n                });\n            });\n        });\n        handlerResults.forEach(function (handlerResult) {\n            if (typeof handlerResult === \"function\") {\n                handlerResult();\n            }\n        });\n    }\n    /**\n     * Check if the components are still running and call their event handler\n     */\n    function fireWindowResizeEvent(event) {\n        frameIsRequested = false;\n        if (!componentInformation) {\n            return;\n        }\n        var handlerResults = [];\n        componentInformation.forEach(function (componentInformation, i) {\n            // Skip if the component is not running anymore\n            if (componentInformation.component._stopped) {\n                return;\n            }\n            componentInformation.selectors.forEach(function (selector) {\n                return selector.forEach(function (handler) {\n                    return handlerResults.push(handler.call(componentInformation.component, event));\n                });\n            });\n        });\n        handlerResults.forEach(function (handlerResult) {\n            if (typeof handlerResult === \"function\") {\n                handlerResult();\n            }\n        });\n    }\n    window.addEventListener(\"resize\", function (event) {\n        if (!isRunning) {\n            startResizeWatching(event);\n        }\n        else if (!frameIsRequested) {\n            frameIsRequested = true;\n            window.requestAnimationFrame(fireResizeEvent.bind(null, event));\n        }\n        clearTimeout(resizeDoneTimer);\n        resizeDoneTimer = setTimeout(stopResizeWatching, 250);\n    });\n};\n/**\n * This function creates a custom gondel event\n */\nexport function initResizePlugin() {\n    addGondelPluginEventListener(\"Resize\", \"registerEvent\", function addResizeEvent(isNativeEvent, _a, resolve) {\n        var eventName = _a.eventName, namespace = _a.namespace, eventRegistry = _a.eventRegistry;\n        // Ignore all events but the resize events\n        if (eventName !== WINDOW_RESIZED_EVENT && eventName !== COMPONENT_RESIZED_EVENT) {\n            resolve(isNativeEvent);\n            return;\n        }\n        initializeResizeEvent(eventRegistry, namespace, eventName);\n        // Tell the event system that it should not listen for the event:\n        resolve(false);\n    });\n    addGondelPluginEventListener(\"Resize\", \"sync\", function addResizeEvent(components, data, resolve) {\n        setTimeout(function () {\n            components.forEach(function (component) {\n                component.__resizeSize = {\n                    width: component._ctx.clientWidth,\n                    height: component._ctx.clientHeight\n                };\n            });\n        });\n        resolve(components);\n    });\n}\n//# sourceMappingURL=index.js.map"],"names":[],"mappings":"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"}