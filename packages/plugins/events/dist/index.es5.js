!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).gondelPluginEvents={})}(this,(function(e){"use strict";var n=function(e,n,t){return t(e)},t=window.__gondelPluginEvents||{pluginMapping:{},pluginEvents:{}};window.__gondelPluginEvents=t;var o=t.pluginEvents,i=t.pluginMapping;function r(e,t,r){var c="".concat(t,"#").concat(e);if(!i[c]){i[c]=!0,o[t]||(o[t]=n);var u=o[t];o[t]=function(e,n,t){u(e,n,(function(e,o,i){r(e,n,(function(e){t(e,n,i)}))}))}}}function c(e,n){void 0===n&&(n="g");var t=u(function(e){return function(e){return void 0!==e.nodeType}(e)?e:e[0]}(e),n);if(!t)throw new Error('Could not find a started gondel component in namespace "'.concat(n,"\",\nplease check if your component is mounted via 'hasMountedGondelComponent'"));return t}function u(e,n){var t=e["_gondel_"+n];if(t&&t._ctx)return t}var a=function(e,n){var t=window.Element.prototype,o=t.matches||t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.webkitMatchesSelector;return(a=function(e,n){return o.call(e,n)})(e,n)};function f(e,n,t){var o=function(e){for(var n=[],t=e;t;t=t.parentElement)n.push(t);return n}(t),i=[];o.forEach((function(t,o){var r=t.getAttribute(e),c=r&&n[r];c&&i.push({index:o,handlers:c})}));var r=[];return i.forEach((function(e){var n=e.index,t=e.handlers;Object.keys(t).forEach((function(e){if(!e)return r.push({index:n,ctx:o[n],target:o[n],handlerOptions:t[e]});for(var i=n;--i>=0;)if(a(o[i],e))return r.push({index:i,ctx:o[n],target:o[i],handlerOptions:t[e]})}))})),0===r.length?[]:(r.sort((function(e,n){return e.index>n.index?1:e.index===n.index?0:-1})),r)}function d(e,n,t){for(var o=!1,i=[],r=function(r){var c=e[r],a=c.handlerOptions,f=u(c.ctx,t);if(f){Object.defineProperty(n,"currentTarget",{get:function(){return c.target},configurable:!0}),o=!0;for(var d=0;d<a.length&&!n.cancelBubble;d++){var m=f[a[d].handlerName].call(f,n);"function"==typeof m&&i.push(m)}}},c=0;c<e.length&&!n.cancelBubble;c++)r(c);i.forEach((function(e){e()})),o&&delete n.currentTarget}function m(e,n){var t=Object.keys(e).map((function(e){return"[data-".concat(n,'-name="').concat(e,'"]')})).join(",");if(!t)return[];for(var o=document.documentElement.querySelectorAll(t),i=[],r=0;r<o.length;r++){var u=c(o[r],n);u&&i.push(u)}return i}var s={resize:function(e,n){var t,o,i=!1,r=!1;function c(){r?requestAnimationFrame(c):(i=!1,o=void 0)}function u(e){if(r=!1,o){var n=o.map((function(e){var n=e.node;return{width:n.clientWidth,height:n.clientHeight}})),t=[];o.forEach((function(o,i){var r=n[i];r.width===o.width&&r.height===o.height||o.component._stopped||(o.component.__resizeSize=r,o.width=r.width,o.height=r.height,o.selectors.forEach((function(n){return n.forEach((function(n){return t.push(n.call(o.component,e,r))}))})))})),t.forEach((function(e){"function"==typeof e&&e()}))}}window.addEventListener("resize",(function(a){i?r||(r=!0,window.requestAnimationFrame(u.bind(a))):function(t){var r=m(e,n);i=!0,o=r.map((function(n){var t=n.__resizeSize||{width:0,height:0},o=e[n._componentName];return{component:n,node:n._ctx,selectors:Object.keys(o).map((function(e){return o[e].map((function(e){return n[e.handlerName]}))})),width:t.width,height:t.height}})),u(t)}(a),clearTimeout(t),t=setTimeout(c,250)}))},key:function(e,n){window.addEventListener("keydown",(function(t){var o=m(e,n),i=[];o.forEach((function(n){Object.keys(e[n._componentName]).forEach((function(o){""!==o&&t.key!==o||e[n._componentName][o].forEach((function(e){i.push(n[e.handlerName].call(n,t))}))}))})),i.forEach((function(e){"function"==typeof e&&e()}))}))},"swipe-left":function(e,n){document.documentElement.addEventListener("mousedown",(function(t){var o,i,r=f("data-".concat(n,"-name"),e,t.target);function c(e){o=e,e.preventDefault(),i||(i=requestAnimationFrame(u))}function u(){i=void 0,o.x-t.x<-100&&(d(r,o,n),a())}function a(){document.documentElement.removeEventListener("mousemove",c),document.documentElement.removeEventListener("mouseup",m),i&&cancelAnimationFrame(i)}function m(e){e.preventDefault(),a()}0!==r.length&&(t.preventDefault(),document.documentElement.addEventListener("mousemove",c),document.documentElement.addEventListener("mouseup",m))}))},"swipe-right":function(e,n){document.documentElement.addEventListener("mousedown",(function(t){var o,i,r=f("data-".concat(n,"-name"),e,t.target);function c(e){o=e,e.preventDefault(),i||(i=requestAnimationFrame(u))}function u(){i=void 0,o.x-t.x>100&&(d(r,o,n),a())}function a(){document.documentElement.removeEventListener("mousemove",c),document.documentElement.removeEventListener("mouseup",m),i&&cancelAnimationFrame(i)}function m(e){e.preventDefault(),a()}0!==r.length&&(t.preventDefault(),document.documentElement.addEventListener("mousemove",c),document.documentElement.addEventListener("mouseup",m))}))}};e.initEventPlugin=function(){r("Events","registerEvent",(function(e,n,t){var o=n.eventName,i=n.namespace,r=n.eventRegistry;s[o]?(s[o](r,i),t(!1)):t(e)})),r("Events","sync",(function(e,n,t){setTimeout((function(){e.forEach((function(e){e.__resizeSize={width:e._ctx.clientWidth,height:e._ctx.clientHeight}}))})),t(e)}))},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=index.es5.js.map
