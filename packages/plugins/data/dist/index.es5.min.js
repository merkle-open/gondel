!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@gondel/core")):"function"==typeof define&&define.amd?define(["exports","@gondel/core"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).gondelPluginData={},e.gondel)}(this,(function(e,t){"use strict";var n=!1;function i(){n=!0,t.addGondelPluginEventListener("Data","start",(function(e,t,n){e.forEach((function(t){var i=t.prototype&&t.prototype.__dataBindings||t.__dataBindings;if(!i||0===i.length)return n(e);i.forEach((function(e){var n=e[0],i=e[1],r=e[2],a=t[n];Object.defineProperty(t,n,{enumerable:!0,configurable:!1,get:function(){var e=t._ctx.getAttribute(i);return r&&null!==e?r.deserialize(e):e},set:function(e){void 0===e&&t._ctx.removeAttribute(i),r&&(e=r.serialize(e)),t._ctx.setAttribute(i,e)}}),a&&(t[n]=t[n]||a,a=void 0)}))})),n(e)}))}var r={serialize:function(e){return JSON.stringify(e)},deserialize:function(e){return JSON.parse(e)}},a={serialize:function(e){return"".concat(e)},deserialize:function(e){return"true"===e}},o={serialize:function(e){return"".concat(e)},deserialize:function(e){return parseFloat(e)}};e.BooleanSerializer=a,e.JSONSerializer=r,e.NumberSerializer=o,e.data=function(e,t){if("string"==typeof e&&"string"!=typeof t){var r=e,a=t;return function(e,t){n||i(),e.__dataBindings||(e.__dataBindings=[]);var o="data-".concat(r);e.__dataBindings.push([t,o,a])}}if("string"==typeof e||"string"!=typeof t)throw new Error("Unexpected usage of @data");var o=e,d=t;n||i(),o.__dataBindings||(o.__dataBindings=[]);var s=function(e){"_"===e.substr(0,1)&&(e=e.substr(1));if("data"!==e.substr(0,4))throw new Error("".concat(e,'" has an invalid format please use @data dataSomeProp (data-some-prop) for valid bindings.'));return e.replace(/([a-zA-Z])(?=[A-Z])/g,"$1-").toLowerCase()}(d);o.__dataBindings.push([d,s,void 0])},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=index.es5.min.js.map
