{"version":3,"file":"index.es5.js","sources":["../../../core/dist/GondelPluginUtils.js","../../../core/dist/GondelDomUtils.js","index.js"],"sourcesContent":["var basePluginListener = function (result, data, next) { return next(result); };\r\n// Global plugin events registry\r\nvar pluginEventRegistry = window.__gondelPluginEvents || { pluginMapping: {}, pluginEvents: {} };\r\nwindow.__gondelPluginEvents = pluginEventRegistry;\r\n/** Global Plugin Event Handler Registry */\r\nexport var pluginEvents = pluginEventRegistry.pluginEvents;\r\n// Mapping to track if plugin was already registered to prevent double registrations\r\nvar pluginMapping = pluginEventRegistry.pluginMapping;\r\nexport function fireGondelPluginEvent(eventName, initialValue, data, callback) {\r\n    var isSyncron = false;\r\n    var callbackResult;\r\n    // Execute all bound events for the given name\r\n    // if they exist\r\n    (pluginEvents[eventName] || basePluginListener)(initialValue, data, function (processedResult) {\r\n        isSyncron = true;\r\n        callbackResult = callback ? callback(processedResult) : processedResult;\r\n    });\r\n    // Add a guard to prevent asyncron plugin listeners\r\n    // to simplify the usage of fireGondelPluginEvent\r\n    if (!isSyncron) {\r\n        throw new Error('Async plugin listener');\r\n    }\r\n    return callbackResult;\r\n}\r\n/**\r\n * Fire an async event which allows gondel plugins to add features to gondel\r\n */\r\nexport function fireAsyncGondelPluginEvent(eventName, initialValue, data) {\r\n    return new Promise(function (resolve) {\r\n        (pluginEvents[eventName] || basePluginListener)(initialValue, data, function (result) {\r\n            resolve(result);\r\n        });\r\n    });\r\n}\r\n/**\r\n * Allow plugins to hook into the gondel event system\r\n */\r\nexport function addGondelPluginEventListener(pluginName, eventName, eventListenerCallback) {\r\n    // Prevent any event registration if this pluginHandlerName\r\n    // has already been used\r\n    var pluginHandlerNamePerEvent = \"\".concat(eventName, \"#\").concat(pluginName);\r\n    if (pluginMapping[pluginHandlerNamePerEvent]) {\r\n        return;\r\n    }\r\n    // Flag plugin as registered\r\n    pluginMapping[pluginHandlerNamePerEvent] = true;\r\n    // Ensure that an entry for the given event name exists\r\n    if (!pluginEvents[eventName]) {\r\n        pluginEvents[eventName] = basePluginListener;\r\n    }\r\n    var previousEventHandler = pluginEvents[eventName];\r\n    pluginEvents[eventName] = function wrapCallback(result, data, next) {\r\n        previousEventHandler(result, data, function callNextPlugin(modifiedResult, _, firstNext) {\r\n            eventListenerCallback(modifiedResult, data, function bindData(result) {\r\n                next(result, data, firstNext);\r\n            });\r\n        });\r\n    };\r\n}\r\n//# sourceMappingURL=GondelPluginUtils.js.map","import { getComponentRegistry } from './GondelComponentRegistry';\r\nimport { startComponentsFromRegistry } from './GondelComponentStarter';\r\nexport var internalGondelRefAttribute = '_gondel_';\r\nexport var internalGondelAsyncRefAttribute = '_gondelA_';\r\n/**\r\n * Returns true if the given object is a single Element\r\n */\r\nfunction isElement(domNode) {\r\n    return domNode.nodeType !== undefined;\r\n}\r\n/**\r\n * This function normalizes takes one of the following:\r\n *  + document query result\r\n *  + dom node array\r\n *  + jquery object\r\n *  + a single dom node\r\n * and turns it into a single dom node\r\n */\r\nexport function getFirstDomNode(domNode) {\r\n    if (isElement(domNode)) {\r\n        return domNode;\r\n    }\r\n    return domNode[0];\r\n}\r\n/**\r\n * Start all nodes in the given context\r\n */\r\nexport function startComponents(domContext, namespace) {\r\n    if (namespace === void 0) { namespace = 'g'; }\r\n    var registry = getComponentRegistry(namespace);\r\n    return startComponentsFromRegistry(registry, domContext ? getFirstDomNode(domContext) : document.documentElement, namespace);\r\n}\r\n/**\r\n * Stop all nodes in the given context\r\n */\r\nexport function stopComponents(domContext, namespace) {\r\n    if (namespace === void 0) { namespace = 'g'; }\r\n    var components = findComponents(domContext, undefined, namespace);\r\n    if (domContext && hasMountedGondelComponent(domContext)) {\r\n        components.unshift(getComponentByDomNode(domContext));\r\n    }\r\n    components.forEach(function (component) { return component.stop(); });\r\n}\r\n/**\r\n * Checks if a component is mounted on a certain DOM node\r\n */\r\nexport function hasMountedGondelComponent(domNode, namespace) {\r\n    if (namespace === void 0) { namespace = 'g'; }\r\n    var firstNode = getFirstDomNode(domNode);\r\n    var gondelComponent = firstNode[internalGondelRefAttribute + namespace];\r\n    if (!gondelComponent || !gondelComponent._ctx) {\r\n        // no anchor prop found or ctx missing. function is needed\r\n        // that we can type the `getComponentByDomNode` without possible\r\n        // returnal of undefined.\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n/**\r\n * Returns the gondel instance for the given HtmlELement\r\n */\r\nexport function getComponentByDomNode(domNode, namespace) {\r\n    if (namespace === void 0) { namespace = 'g'; }\r\n    var gondelComponent = extractComponent(getFirstDomNode(domNode), namespace);\r\n    if (!gondelComponent) {\r\n        throw new Error(\"Could not find a started gondel component in namespace \\\"\".concat(namespace, \"\\\",\\nplease check if your component is mounted via 'hasMountedGondelComponent'\"));\r\n    }\r\n    return gondelComponent;\r\n}\r\n/**\r\n * Internal helper function of getComponentByDomNode\r\n *\r\n * Returns the gondel instance from a known HtmlElement\r\n * This function is an internal helper with a possible undefined\r\n * return value.\r\n */\r\nexport function extractComponent(element, namespace) {\r\n    var gondelComponent = element[internalGondelRefAttribute + namespace];\r\n    // Stop if this dom node is not known to gondel\r\n    if (gondelComponent && gondelComponent._ctx) {\r\n        return gondelComponent;\r\n    }\r\n}\r\n/**\r\n * Returns the gondel instance for the given HtmlELement once it is booted\r\n */\r\nexport function getComponentByDomNodeAsync(domNode, namespace) {\r\n    if (namespace === void 0) { namespace = 'g'; }\r\n    var firstNode = getFirstDomNode(domNode);\r\n    var gondelComponent = firstNode[internalGondelAsyncRefAttribute + namespace];\r\n    // Stop if this dom node is not known to gondel\r\n    if (!gondelComponent) {\r\n        return Promise.reject(undefined);\r\n    }\r\n    // or the component is already booted up return it\r\n    if (gondelComponent._ctx) {\r\n        return Promise.resolve(gondelComponent);\r\n    }\r\n    // Wait the component to boot up and return it\r\n    return gondelComponent.then(function () { return firstNode[internalGondelRefAttribute + namespace]; });\r\n}\r\n/**\r\n * Returns all components inside the given node\r\n */\r\nexport function findComponents(domNode, componentName, namespace) {\r\n    if (domNode === void 0) { domNode = document.documentElement; }\r\n    if (namespace === void 0) { namespace = 'g'; }\r\n    var firstNode = getFirstDomNode(domNode);\r\n    var components = [];\r\n    var attribute = \"_gondel_\".concat(namespace);\r\n    var nodes = firstNode.querySelectorAll(\"[data-\".concat(namespace, \"-name\").concat(componentName ? \"=\\\"\".concat(componentName, \"\\\"\") : '', \"]\"));\r\n    for (var i = 0; i < nodes.length; i++) {\r\n        var node = nodes[i];\r\n        var gondelComponentInstance = node[attribute];\r\n        // Verify that the component is fully booted\r\n        if (gondelComponentInstance && gondelComponentInstance._ctx === node) {\r\n            components.push(gondelComponentInstance);\r\n        }\r\n    }\r\n    return components;\r\n}\r\n//# sourceMappingURL=GondelDomUtils.js.map","/**\r\n * This is a plugin to initialize enquire.js and fire a viewportChange event when triggering a breakpoint\r\n */\r\nimport { addGondelPluginEventListener, getComponentByDomNode } from '@gondel/core';\r\n/**\r\n * The VIEWPORT_ENTERED will be fired if a new viewport is entered\r\n */\r\nexport var VIEWPORT_ENTERED = '@gondel/plugin-media-queries--viewport-entered';\r\nvar currentViewport;\r\n/**\r\n * This function returns all components for the given eventRegistry which can be found in the dom.\r\n */\r\nfunction getComponentsInEventRegistry(eventRegistry, namespace) {\r\n    var selector = Object.keys(eventRegistry)\r\n        .map(function (componentName) { return \"[data-\".concat(namespace, \"-name=\\\"\").concat(componentName, \"\\\"]\"); })\r\n        .join(',');\r\n    if (!selector) {\r\n        return [];\r\n    }\r\n    var componentElements = document.documentElement.querySelectorAll(selector);\r\n    var components = [];\r\n    for (var i = 0; i < componentElements.length; i++) {\r\n        var component = getComponentByDomNode(componentElements[i], namespace);\r\n        if (component) {\r\n            components.push(component);\r\n        }\r\n    }\r\n    return components;\r\n}\r\n/**\r\n * This function fire's a custom gondel event to all registered components\r\n */\r\nfunction fireViewportChangeEvent(viewport, eventRegistry, namespace) {\r\n    var components = getComponentsInEventRegistry(eventRegistry, namespace);\r\n    var handlerResults = [];\r\n    components.forEach(function (component) {\r\n        Object.keys(eventRegistry[component._componentName]).forEach(function (selector) {\r\n            if (selector === '' || viewport === selector) {\r\n                eventRegistry[component._componentName][selector].forEach(function (handlerOption) {\r\n                    handlerResults.push(component[handlerOption.handlerName].call(component, { viewport: viewport }));\r\n                });\r\n            }\r\n        });\r\n    });\r\n    handlerResults.forEach(function (handlerResults) { return function () {\r\n        if (typeof handlerResults === 'function') {\r\n            handlerResults();\r\n        }\r\n    }; });\r\n}\r\n/**\r\n * This function returns the current viewport\r\n */\r\nexport function getCurrentViewport() {\r\n    return currentViewport;\r\n}\r\n/**\r\n * Converts the given pixel breakpoint object into a em breakpoint object\r\n */\r\nfunction convertBreakpointsToEm(breakpointsInPx) {\r\n    var breakpointsInEm = {};\r\n    var breakpointNames = Object.keys(breakpointsInPx);\r\n    breakpointNames.forEach(function (breakpointName) {\r\n        breakpointsInEm[breakpointName] = px2em(breakpointsInPx[breakpointName]);\r\n    });\r\n    return breakpointsInEm;\r\n}\r\n/**\r\n * Convert pixel to em\r\n */\r\nfunction px2em(pixelValue) {\r\n    return Math.round((pixelValue / 16) * 100) / 1000;\r\n}\r\n/**\r\n * This function generate mediaQueries from breakPoints\r\n */\r\nfunction generateMediaQueries(breakPoints, unit) {\r\n    // Sort breakpoints by size\r\n    var breakpointNames = Object.keys(breakPoints).sort(function (breakpointNameA, breakpointNameB) {\r\n        if (breakPoints[breakpointNameA] > breakPoints[breakpointNameB]) {\r\n            return 1;\r\n        }\r\n        if (breakPoints[breakpointNameA] < breakPoints[breakpointNameB]) {\r\n            return -1;\r\n        }\r\n        return 0;\r\n    });\r\n    // Convert breakpoints from 980 into (min-width: 700) and (max-width: 980)\r\n    // by using the previous breakpoint\r\n    return breakpointNames.map(function (breakpointName, i) {\r\n        // If this is the first breakpoint we don't need a min value\r\n        var min = breakpointNames[i - 1] === undefined ? undefined : breakPoints[breakpointNames[i - 1]] + 1;\r\n        // If this is the last breakpoint we don't need a max value\r\n        var max = breakPoints[breakpointName] === Infinity ? undefined : breakPoints[breakpointName];\r\n        var queryString;\r\n        if (min && max) {\r\n            queryString = \"(min-width: \".concat(min).concat(unit, \") and (max-width: \").concat(max).concat(unit, \")\");\r\n        }\r\n        else if (min) {\r\n            queryString = \"(min-width: \".concat(min).concat(unit, \")\");\r\n        }\r\n        else if (max) {\r\n            queryString = \"(max-width: \".concat(max).concat(unit, \")\");\r\n        }\r\n        else {\r\n            // This should only happen if the user did a miss configuration\r\n            // with only a single breakpoint which is set to infinity\r\n            throw new Error('The smallest provided viewport must not be set to Infinity');\r\n        }\r\n        return { name: breakpointName, query: queryString, min: min, max: max };\r\n    });\r\n}\r\n/**\r\n * Use enquire.js to listen for viewport changes\r\n * Once a viewport changed call all gondel plugins which are listening\r\n */\r\nfunction setupViewportChangeEvent(mediaQueries, eventRegistry, namespace) {\r\n    var _loop_1 = function (viewport) {\r\n        matchMedia(viewport.query).addListener(function (mediaQueryList) {\r\n            if (mediaQueryList.matches) {\r\n                fireViewportChangeEvent(viewport.name, eventRegistry, namespace);\r\n            }\r\n        });\r\n    };\r\n    for (var _i = 0, mediaQueries_1 = mediaQueries; _i < mediaQueries_1.length; _i++) {\r\n        var viewport = mediaQueries_1[_i];\r\n        _loop_1(viewport);\r\n    }\r\n}\r\n/**\r\n * Use enquire.js to listen for viewport changes\r\n * for the getCurrentViewport helper method\r\n */\r\nfunction setupCurrentViewportHelper(mediaQueries) {\r\n    var _loop_2 = function (viewport) {\r\n        var viewportMediaQueryList = matchMedia(viewport.query);\r\n        // Set initial viewport\r\n        if (viewportMediaQueryList.matches) {\r\n            currentViewport = viewport.name;\r\n        }\r\n        // Watch for media query changes\r\n        viewportMediaQueryList.addListener(function (mediaQueryList) {\r\n            if (mediaQueryList.matches) {\r\n                currentViewport = viewport.name;\r\n            }\r\n        });\r\n    };\r\n    for (var _i = 0, mediaQueries_2 = mediaQueries; _i < mediaQueries_2.length; _i++) {\r\n        var viewport = mediaQueries_2[_i];\r\n        _loop_2(viewport);\r\n    }\r\n}\r\n/**\r\n * This function creates a custom gondel event\r\n */\r\nexport function initMediaQueriesPlugin(options) {\r\n    // Get the converted breakpoint values\r\n    var breakPoints = options.convertToEm ? convertBreakpointsToEm(options.breakPoints) : options.breakPoints;\r\n    // Get the unit\r\n    var unit = options.unit || (options.convertToEm ? 'em' : 'px');\r\n    var mediaQueries = generateMediaQueries(breakPoints, unit);\r\n    // Setup the viewport helper independently so it will\r\n    // also be avialiable if no component is listening to events:\r\n    setupCurrentViewportHelper(mediaQueries);\r\n    addGondelPluginEventListener('MediaQueries', 'registerEvent', function addViewportChangeEvent(isNativeEvent, _a, resolve) {\r\n        var eventName = _a.eventName, namespace = _a.namespace, eventRegistry = _a.eventRegistry;\r\n        // Ignore all events but the viewportChange event\r\n        if (eventName !== VIEWPORT_ENTERED) {\r\n            resolve(isNativeEvent);\r\n            return;\r\n        }\r\n        setupViewportChangeEvent(mediaQueries, eventRegistry, namespace);\r\n        // Tell the event system that it should not listen for the event:\r\n        resolve(false);\r\n    });\r\n}\r\n//# sourceMappingURL=index.js.map"],"names":[],"mappings":"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"}