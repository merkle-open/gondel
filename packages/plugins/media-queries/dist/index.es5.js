!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.gondelPluginMediaQueries={})}(this,function(e){"use strict";var t=function(e,n,t){return t(e)},o=window.__gondelPluginEvents||{};window.__gondelPluginEvents=o;window.__gondelRegistries=window.__gondelRegistries||{};function c(e,n){void 0===n&&(n="g");var t,o=(void 0!==(t=e).nodeType?t:t[0])["_gondel_"+n];if(o&&o._ctx)return o}var n=window.__gondelDomEvents||{};window.__gondelDomEvents=n;Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector;var a,r=require("./MediaQueryDispatch");function d(t,o,e){var n=function(e,n){var t=Object.keys(e).map(function(e){return"[data-"+n+'-name="'+e+'"]'}).join(",");if(!t)return[];for(var o=document.documentElement.querySelectorAll(t),r=[],i=0;i<o.length;i++){var u=c(o[i],n);u&&r.push(u)}return r}(o,e),r=[];n.forEach(function(n){Object.keys(o[n._componentName]).forEach(function(e){""!==e&&t!==e||o[n._componentName][e].forEach(function(e){r.push(n[e.handlerName].call(n,{viewport:t}))})})})}function f(e){return Math.round(e/16*100)/100+"em"}function m(e,n,t){for(var i,u,o=function(e){(void 0)(e.query,{setup:function(){a=e.name},match:function(){a=e.name,d(e.name,n,t)},deferSetup:!0})},r=0,c=(i=e,(u=Object.keys(i).sort(function(e,n){return i[e]>i[n]?1:i[e]<i[n]?-1:0})).map(function(e,n){var t,o=i[e]===1/0?void 0:i[e],r=void 0===u[n-1]?void 0:i[u[n-1]]+1;if(r&&o)t="(min-width: "+f(r)+") and (max-width: "+f(o)+")";else if(r)t="(min-width: "+f(r)+")";else{if(!o)throw new Error("The smallest provided viewport must not be set to Infinity");t="(max-width: "+f(o)+")"}return{name:e,query:t,min:r,max:o}}));r<c.length;r++){o(c[r])}}module.exports=new r,e.getCurrentViewport=function(){return a},e.default=function(u){!function(e,i){o[e]||(o[e]=t);var n=o[e];o[e]=function(e,o,r){n(e,o,function(e,n,t){i(e,o,function(e){r(e,o,t)})})}}("registerEvent",function(e,n,t){var o=n.eventName,r=n.namespace,i=n.eventRegistry;"viewportChange"===o?(m(u,i,r),t(!1)):t(e)})},Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=index.es5.js.map
