{"version":3,"file":"gondel.es5.js","sources":["GondelPluginUtils.js","GondelEventEmitter.js","GondelComponentStarter.js","GondelAutoStart.js","GondelComponentRegistry.js","GondelDomUtils.js","GondelEventRegistry.js","GondelDecorators.js","GondelComponent.js"],"sourcesContent":["var basePluginListener = function (result, data, next) { return next(result); };\r\n// Global plugin events registry\r\nvar pluginEventRegistry = window.__gondelPluginEvents || { pluginMapping: {}, pluginEvents: {} };\r\nwindow.__gondelPluginEvents = pluginEventRegistry;\r\n/** Global Plugin Event Handler Registry */\r\nexport var pluginEvents = pluginEventRegistry.pluginEvents;\r\n// Mapping to track if plugin was already registered to prevent double registrations\r\nvar pluginMapping = pluginEventRegistry.pluginMapping;\r\nexport function fireGondelPluginEvent(eventName, initialValue, data, callback) {\r\n    var isSyncron = false;\r\n    var callbackResult;\r\n    // Execute all bound events for the given name\r\n    // if they exist\r\n    (pluginEvents[eventName] || basePluginListener)(initialValue, data, function (processedResult) {\r\n        isSyncron = true;\r\n        callbackResult = callback ? callback(processedResult) : processedResult;\r\n    });\r\n    // Add a guard to prevent asyncron plugin listeners\r\n    // to simplify the usage of fireGondelPluginEvent\r\n    if (!isSyncron) {\r\n        throw new Error(\"Async plugin listener\");\r\n    }\r\n    return callbackResult;\r\n}\r\n/**\r\n * Fire an async event which allows gondel plugins to add features to gondel\r\n */\r\nexport function fireAsyncGondelPluginEvent(eventName, initialValue, data) {\r\n    return new Promise(function (resolve) {\r\n        (pluginEvents[eventName] || basePluginListener)(initialValue, data, function (result) {\r\n            resolve(result);\r\n        });\r\n    });\r\n}\r\n/**\r\n * Allow plugins to hook into the gondel event system\r\n */\r\nexport function addGondelPluginEventListener(pluginName, eventName, eventListenerCallback) {\r\n    // Prevent any event registration if this pluginHandlerName\r\n    // has already been used\r\n    var pluginHandlerNamePerEvent = eventName + \"#\" + pluginName;\r\n    if (pluginMapping[pluginHandlerNamePerEvent]) {\r\n        return;\r\n    }\r\n    // Flag plugin as registered\r\n    pluginMapping[pluginHandlerNamePerEvent] = true;\r\n    // Ensure that an entry for the given event name exists\r\n    if (!pluginEvents[eventName]) {\r\n        pluginEvents[eventName] = basePluginListener;\r\n    }\r\n    var previousEventHandler = pluginEvents[eventName];\r\n    pluginEvents[eventName] = function wrapCallback(result, data, next) {\r\n        previousEventHandler(result, data, function callNextPlugin(modifiedResult, _, firstNext) {\r\n            eventListenerCallback(modifiedResult, data, function bindData(result) {\r\n                next(result, data, firstNext);\r\n            });\r\n        });\r\n    };\r\n}\r\n//# sourceMappingURL=GondelPluginUtils.js.map","import { getFirstDomNode } from \"./GondelDomUtils\";\r\n/**\r\n * Submit an event which might be caught by foreign gondel, angular or react components\r\n */\r\nexport function triggerPublicEvent(eventName, gondelComponent, target, eventData, canBubble) {\r\n    if (eventData === void 0) { eventData = {}; }\r\n    if (canBubble === void 0) { canBubble = true; }\r\n    var event = document.createEvent(\"Event\");\r\n    var eventTarget = target ? getFirstDomNode(target) : gondelComponent._ctx;\r\n    var namespace = gondelComponent._namespace;\r\n    if (eventName.substr(0, namespace.length) !== namespace) {\r\n        throw new Error(\"Invalid event name '\" +\r\n            eventName +\r\n            \"' - use '\" +\r\n            namespace +\r\n            eventName.charAt(0).toUpperCase() +\r\n            eventName.slice(1) +\r\n            \"'\");\r\n    }\r\n    event.initEvent(eventName, canBubble, true);\r\n    event.data = {\r\n        component: gondelComponent,\r\n        name: gondelComponent._componentName,\r\n        namespace: gondelComponent._namespace,\r\n        eventData: eventData,\r\n    };\r\n    return eventTarget.dispatchEvent(event);\r\n}\r\n//# sourceMappingURL=GondelEventEmitter.js.map","import { internalGondelAsyncRefAttribute, internalGondelRefAttribute } from \"./GondelDomUtils\";\r\nimport { triggerPublicEvent } from \"./GondelEventEmitter\";\r\nimport { fireGondelPluginEvent } from \"./GondelPluginUtils\";\r\nvar noop = function () { };\r\nvar Deferred = function () {\r\n    var _this = this;\r\n    this.promise = new Promise(function (resolve) {\r\n        _this.resolve = resolve;\r\n    });\r\n};\r\n/**\r\n * Start all components of the gondel component registry\r\n * for the given dom context\r\n */\r\nexport function startComponentsFromRegistry(gondelComponentRegistry, domContext, namespace) {\r\n    // Get an array of all nodes which match the namespace\r\n    var gondelDomNodeList = Array.prototype.slice.call(domContext.querySelectorAll(\"[data-\" + namespace + \"-name]\"));\r\n    if (domContext.hasAttribute(\"data-\" + namespace + \"-name\")) {\r\n        gondelDomNodeList.push(domContext);\r\n    }\r\n    // Remove already booted nodes\r\n    var pristineGondelDomNodes = gondelDomNodeList.filter(function (gondelDomNode) {\r\n        return isPristineGondelDomNode(gondelDomNode, namespace);\r\n    });\r\n    var bootingDeferred = new Deferred();\r\n    // Mark all nodes as booting\r\n    pristineGondelDomNodes.forEach(function (gondelDomNode) {\r\n        attachGondelBootingFlag(gondelDomNode, bootingDeferred.promise, namespace);\r\n    });\r\n    // Create instances\r\n    var gondelComponents = fireGondelPluginEvent(\"boot\", pristineGondelDomNodes, { namespace: namespace }, function (pristineGondelDomNodes) {\r\n        return pristineGondelDomNodes.map(function (gondelDomNode) {\r\n            return constructComponent(gondelDomNode, gondelComponentRegistry, namespace);\r\n        });\r\n    });\r\n    // Get all component names\r\n    var newComponentNames = getNewComponents(gondelComponents, gondelComponentRegistry);\r\n    newComponentNames.forEach(function (componentName) {\r\n        return gondelComponentRegistry.setActiveState(componentName, true);\r\n    });\r\n    // Start all components\r\n    var gondelComponentStartPromise = fireGondelPluginEvent(\"start\", gondelComponents, { newComponentNames: newComponentNames, namespace: namespace, gondelComponentRegistry: gondelComponentRegistry }, function (gondelComponents) {\r\n        // Wait for async started components\r\n        return Promise.all(gondelComponents.map(startConstructedComponent));\r\n    })\r\n        // Let all plugins know that the components are now all ready to use\r\n        .then(function () {\r\n        gondelComponents.forEach(function (gondelComponent) {\r\n            if (gondelComponent.sync) {\r\n                gondelComponent.sync();\r\n            }\r\n        });\r\n        return fireGondelPluginEvent(\"sync\", gondelComponents, { namespace: namespace });\r\n    });\r\n    // Resolve the booting deferred\r\n    gondelComponentStartPromise\r\n        .then(bootingDeferred.resolve, bootingDeferred.resolve)\r\n        // Rethrow errors (if any)\r\n        // otherwise the browser dev tools won't show\r\n        // important bootstrap errors\r\n        .then(function () { return gondelComponentStartPromise; });\r\n    // Return a promise of all started components\r\n    return gondelComponentStartPromise;\r\n}\r\n/**\r\n * Returns true if the given domNode is neither booting nor booted\r\n */\r\nexport function isPristineGondelDomNode(domNode, namespace) {\r\n    return !domNode.hasOwnProperty(internalGondelAsyncRefAttribute + namespace);\r\n}\r\n/**\r\n * Mark the given dom node as controlled by gondel\r\n */\r\nexport function attachGondelBootingFlag(domNode, bootingFlag, namespace) {\r\n    // The name `A` mean async\r\n    // to allow waiting for asyncronous booted components\r\n    domNode[internalGondelAsyncRefAttribute + namespace] = bootingFlag;\r\n}\r\n/**\r\n * Constructs a new component\r\n */\r\nexport function constructComponent(domNode, gondelComponentRegistry, namespace) {\r\n    var componentName = domNode.getAttribute(\"data-\" + namespace + \"-name\");\r\n    var GondelComponent = gondelComponentRegistry.getComponent(componentName);\r\n    if (GondelComponent === undefined) {\r\n        throw new Error(\"Failed to boot component - \" + componentName + \" is not registred\");\r\n    }\r\n    var componentInstance = new GondelComponent(domNode, componentName);\r\n    componentInstance._ctx = domNode;\r\n    componentInstance._namespace = namespace;\r\n    componentInstance._componentName = componentName;\r\n    // Add stop method\r\n    componentInstance.stop = stopStartedComponent.bind(null, componentInstance, componentInstance.stop || noop, namespace);\r\n    // Create a circular reference which will allow access to the componentInstance from ctx\r\n    domNode[\"_gondel_\" + namespace] = componentInstance;\r\n    return componentInstance;\r\n}\r\n/**\r\n * Start a component after it was constructed\r\n */\r\nexport function startConstructedComponent(component) {\r\n    // Skip if the start method is missing\r\n    if (!component.start) {\r\n        return;\r\n    }\r\n    var expectsNoArguments = component.start.length === 0;\r\n    // Start the component and expect a promise or a syncronous return value\r\n    // if the function expects no arguments\r\n    if (expectsNoArguments) {\r\n        return component.start();\r\n    }\r\n    return new Promise(function (resolve, reject) { return component.start(resolve, reject); });\r\n}\r\n/**\r\n * Stops a started component\r\n */\r\nexport function stopStartedComponent(component, internalStopMethod, namespace) {\r\n    triggerPublicEvent(namespace + \"Stop\", component, component._ctx);\r\n    // Remove the component instance from the html element\r\n    delete component._ctx[internalGondelRefAttribute + namespace];\r\n    delete component._ctx[internalGondelAsyncRefAttribute + namespace];\r\n    component._stopped = true;\r\n    fireGondelPluginEvent(\"stop\", component, { namespace: namespace }, internalStopMethod.bind(component));\r\n}\r\n/**\r\n * Filters the given component list and returns the names of those components which have never been started before\r\n */\r\nfunction getNewComponents(components, registry) {\r\n    var componentNameHelper = {};\r\n    components.forEach(function (component) { return (componentNameHelper[component._componentName] = true); });\r\n    var componentNames = Object.keys(componentNameHelper);\r\n    return componentNames.filter(function (componentName) { return !registry._activeComponents[componentName]; });\r\n}\r\n//# sourceMappingURL=GondelComponentStarter.js.map","import { getComponentRegistry } from \"./GondelComponentRegistry\";\r\nimport { startComponentsFromRegistry } from \"./GondelComponentStarter\";\r\n/**\r\n * By default Gondel will run startComponents on DOMContentLoaded\r\n * To gain more controll over the boot behaviour tihs function can be called\r\n * to disable the auto start\r\n */\r\nexport function disableAutoStart(namespace) {\r\n    if (namespace === void 0) { namespace = \"g\"; }\r\n    getComponentRegistry(namespace).setBootMode(1 /* manual */);\r\n}\r\n/**\r\n * Wait for document ready and boot the registry\r\n */\r\nexport function addRegistryToBootloader(namespace) {\r\n    // Use new Promise to wait for the next tick\r\n    var boot = function () {\r\n        Promise.resolve().then(function () {\r\n            var gondelComponentRegistry = getComponentRegistry(namespace);\r\n            if (gondelComponentRegistry._bootMode === 2 /* onDomReady */) {\r\n                gondelComponentRegistry.setBootMode(0 /* alreadyBooted */);\r\n                startComponentsFromRegistry(gondelComponentRegistry, document.documentElement, namespace);\r\n            }\r\n        });\r\n    };\r\n    // Boot if document is complete or once it completes\r\n    if (document.readyState == \"complete\") {\r\n        boot();\r\n    }\r\n    else {\r\n        document.addEventListener(\"DOMContentLoaded\", boot, false);\r\n    }\r\n}\r\n//# sourceMappingURL=GondelAutoStart.js.map","import { fireGondelPluginEvent } from \"./GondelPluginUtils\";\r\nimport { addRegistryToBootloader } from \"./GondelAutoStart\";\r\nvar GLOBAL_GONDEL_REGISTRY_NAMESPACE = \"__\\ud83d\\udea1Registries\";\r\nvar GondelComponentRegistry = /** @class */ (function () {\r\n    function GondelComponentRegistry() {\r\n        this._components = {};\r\n        this._activeComponents = {};\r\n        this._bootMode = 2 /* onDomReady */;\r\n    }\r\n    GondelComponentRegistry.prototype.registerComponent = function (name, gondelComponent) {\r\n        this._components[name] = gondelComponent;\r\n    };\r\n    GondelComponentRegistry.prototype.unregisterComponent = function (name) {\r\n        delete this._components[name];\r\n    };\r\n    GondelComponentRegistry.prototype.getComponent = function (name) {\r\n        return this._components[name];\r\n    };\r\n    /**\r\n     * Set if a component is used\r\n     */\r\n    GondelComponentRegistry.prototype.setActiveState = function (name, isActive) {\r\n        this._activeComponents[name] = isActive;\r\n    };\r\n    GondelComponentRegistry.prototype.setBootMode = function (bootMode) {\r\n        this._bootMode = bootMode;\r\n    };\r\n    return GondelComponentRegistry;\r\n}());\r\nexport { GondelComponentRegistry };\r\nvar _componentRegistries;\r\nexport function getComponentRegistry(namespace) {\r\n    if (!_componentRegistries) {\r\n        _componentRegistries = window[GLOBAL_GONDEL_REGISTRY_NAMESPACE] || {};\r\n        window[GLOBAL_GONDEL_REGISTRY_NAMESPACE] = _componentRegistries;\r\n    }\r\n    if (!_componentRegistries[namespace]) {\r\n        _componentRegistries[namespace] = new GondelComponentRegistry();\r\n        addRegistryToBootloader(namespace);\r\n    }\r\n    return _componentRegistries[namespace];\r\n}\r\nexport function registerComponent() {\r\n    var args = arguments;\r\n    // The componentName is always the first argument\r\n    var componentName = args[0];\r\n    // Use namespace from the second argument or fallback to the default \"g\" if it is missing\r\n    var namespace = typeof args[1] === \"string\" ? args[1] : \"g\";\r\n    // The last argument is always the component class\r\n    var component = args[args.length - 1];\r\n    var gondelComponentRegistry = getComponentRegistry(namespace);\r\n    // If this component was already registered we remove the previous one\r\n    // and notify all plugins - this is especially usefull for hot component replacement\r\n    if (gondelComponentRegistry.getComponent(componentName)) {\r\n        fireGondelPluginEvent(\"unregister\", component, { componentName: componentName, namespace: namespace });\r\n    }\r\n    // Let plugins know about the new component\r\n    fireGondelPluginEvent(\"register\", component, {\r\n        componentName: componentName,\r\n        namespace: namespace,\r\n        gondelComponentRegistry: gondelComponentRegistry,\r\n    }, function (component) {\r\n        gondelComponentRegistry.registerComponent(componentName, component);\r\n    });\r\n}\r\n//# sourceMappingURL=GondelComponentRegistry.js.map","import { getComponentRegistry } from \"./GondelComponentRegistry\";\r\nimport { startComponentsFromRegistry } from \"./GondelComponentStarter\";\r\nexport var internalGondelRefAttribute = \"_gondel_\";\r\nexport var internalGondelAsyncRefAttribute = \"_gondelA_\";\r\n/**\r\n * Returns true if the given object is a single Element\r\n */\r\nfunction isElement(domNode) {\r\n    return domNode.nodeType !== undefined;\r\n}\r\n/**\r\n * This function normalizes takes one of the following:\r\n *  + document query result\r\n *  + dom node array\r\n *  + jquery object\r\n *  + a single dom node\r\n * and turns it into a single dom node\r\n */\r\nexport function getFirstDomNode(domNode) {\r\n    if (isElement(domNode)) {\r\n        return domNode;\r\n    }\r\n    return domNode[0];\r\n}\r\n/**\r\n * Start all nodes in the given context\r\n */\r\nexport function startComponents(domContext, namespace) {\r\n    if (namespace === void 0) { namespace = \"g\"; }\r\n    var registry = getComponentRegistry(namespace);\r\n    return startComponentsFromRegistry(registry, domContext ? getFirstDomNode(domContext) : document.documentElement, namespace);\r\n}\r\n/**\r\n * Stop all nodes in the given context\r\n */\r\nexport function stopComponents(domContext, namespace) {\r\n    if (namespace === void 0) { namespace = \"g\"; }\r\n    var components = findComponents(domContext, undefined, namespace);\r\n    if (domContext && hasMountedGondelComponent(domContext)) {\r\n        components.unshift(getComponentByDomNode(domContext));\r\n    }\r\n    components.forEach(function (component) { return component.stop(); });\r\n}\r\n/**\r\n * Checks if a component is mounted on a certain DOM node\r\n */\r\nexport function hasMountedGondelComponent(domNode, namespace) {\r\n    if (namespace === void 0) { namespace = \"g\"; }\r\n    var firstNode = getFirstDomNode(domNode);\r\n    var gondelComponent = firstNode[internalGondelRefAttribute + namespace];\r\n    if (!gondelComponent || !gondelComponent._ctx) {\r\n        // no anchor prop found or ctx missing. function is needed\r\n        // that we can type the `getComponentByDomNode` without possible\r\n        // returnal of undefined.\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n/**\r\n * Returns the gondel instance for the given HtmlELement\r\n */\r\nexport function getComponentByDomNode(domNode, namespace) {\r\n    if (namespace === void 0) { namespace = \"g\"; }\r\n    var gondelComponent = extractComponent(getFirstDomNode(domNode), namespace);\r\n    if (!gondelComponent) {\r\n        throw new Error(\"Could not find a started gondel component in namespace \\\"\" + namespace + \"\\\",\\nplease check if your component is mounted via 'hasMountedGondelComponent'\");\r\n    }\r\n    return gondelComponent;\r\n}\r\n/**\r\n * Internal helper function of getComponentByDomNode\r\n *\r\n * Returns the gondel instance from a known HtmlElement\r\n * This function is an internal helper with a possible undefined\r\n * return value.\r\n */\r\nexport function extractComponent(element, namespace) {\r\n    var gondelComponent = element[internalGondelRefAttribute + namespace];\r\n    // Stop if this dom node is not known to gondel\r\n    if (gondelComponent && gondelComponent._ctx) {\r\n        return gondelComponent;\r\n    }\r\n}\r\n/**\r\n * Returns the gondel instance for the given HtmlELement once it is booted\r\n */\r\nexport function getComponentByDomNodeAsync(domNode, namespace) {\r\n    if (namespace === void 0) { namespace = \"g\"; }\r\n    var firstNode = getFirstDomNode(domNode);\r\n    var gondelComponent = firstNode[internalGondelAsyncRefAttribute + namespace];\r\n    // Stop if this dom node is not known to gondel\r\n    if (!gondelComponent) {\r\n        return Promise.reject(undefined);\r\n    }\r\n    // or the component is already booted up return it\r\n    if (gondelComponent._ctx) {\r\n        return Promise.resolve(gondelComponent);\r\n    }\r\n    // Wait the component to boot up and return it\r\n    return gondelComponent.then(function () { return firstNode[internalGondelRefAttribute + namespace]; });\r\n}\r\n/**\r\n * Returns all components inside the given node\r\n */\r\nexport function findComponents(domNode, componentName, namespace) {\r\n    if (domNode === void 0) { domNode = document.documentElement; }\r\n    if (namespace === void 0) { namespace = \"g\"; }\r\n    var firstNode = getFirstDomNode(domNode);\r\n    var components = [];\r\n    var attribute = \"_gondel_\" + namespace;\r\n    var nodes = firstNode.querySelectorAll(\"[data-\" + namespace + \"-name\" + (componentName ? \"=\\\"\" + componentName + \"\\\"\" : \"\") + \"]\");\r\n    for (var i = 0; i < nodes.length; i++) {\r\n        var node = nodes[i];\r\n        var gondelComponentInstance = node[attribute];\r\n        // Verify that the component is fully booted\r\n        if (gondelComponentInstance && gondelComponentInstance._ctx === node) {\r\n            components.push(gondelComponentInstance);\r\n        }\r\n    }\r\n    return components;\r\n}\r\n//# sourceMappingURL=GondelDomUtils.js.map","/**\r\n * The event registry provides a way to bind events ahead of time\r\n * with a very small foot print during launch to improve the time to interaction\r\n */\r\nimport { extractComponent } from \"./GondelDomUtils\";\r\nimport { fireGondelPluginEvent } from \"./GondelPluginUtils\";\r\n/**\r\n * Only real browser events are supported.\r\n * Unfortunately focus and blur do not bubble so a special mapping is needed.\r\n */\r\nvar eventNameMapping = {\r\n    focus: \"focusin\",\r\n    blur: \"focusout\",\r\n};\r\n// Polyfill for element.prototype.matches\r\nvar matchesCssSelector = function (element, selector) {\r\n    var elementPrototype = window.Element.prototype;\r\n    /* istanbul ignore next : Browser polyfill can't be tested */\r\n    var elementMatches = elementPrototype.matches ||\r\n        elementPrototype.matchesSelector ||\r\n        elementPrototype.mozMatchesSelector ||\r\n        elementPrototype.msMatchesSelector ||\r\n        elementPrototype.webkitMatchesSelector;\r\n    // Cache the function and call it\r\n    return (matchesCssSelector = function (element, selector) {\r\n        return elementMatches.call(element, selector);\r\n    })(element, selector);\r\n};\r\nfunction getParentElements(startElement) {\r\n    var nodes = [];\r\n    for (var element = startElement; element; element = element.parentElement) {\r\n        nodes.push(element);\r\n    }\r\n    return nodes;\r\n}\r\n/**\r\n * Returns an array of all handlers which would apply for the current target\r\n */\r\nexport function getHandlers(attributeName, eventHandlerRegistry, target) {\r\n    var parents = getParentElements(target);\r\n    // Find all selectors which have been registred for this event type\r\n    // and which have a gondel component in one of the parrent nodes\r\n    var selectorsOfFoundComponents = [];\r\n    parents.forEach(function (parent, i) {\r\n        var componentName = parent.getAttribute(attributeName);\r\n        var handlers = componentName && eventHandlerRegistry[componentName];\r\n        if (handlers) {\r\n            // Store the index where the component was found to know in which part\r\n            // of the dom tree the selectors could be found\r\n            selectorsOfFoundComponents.push({ index: i, handlers: handlers });\r\n        }\r\n    });\r\n    // Iterate over all possible selectors to find out if the current event\r\n    // should fire any gondel handler\r\n    var handlerQueue = [];\r\n    selectorsOfFoundComponents.forEach(function (_a) {\r\n        var index = _a.index, handlers = _a.handlers;\r\n        var selectorNames = Object.keys(handlers);\r\n        selectorNames.forEach(function (selectorName) {\r\n            // If no selector is given the handler does always match\r\n            if (!selectorName) {\r\n                return handlerQueue.push({\r\n                    index: index,\r\n                    ctx: parents[index],\r\n                    target: parents[index],\r\n                    handlerOptions: handlers[selectorName],\r\n                });\r\n            }\r\n            // Iterate backwards over the children of the component to find an element\r\n            // which matches the selector for the current handler\r\n            for (var i = index; --i >= 0;) {\r\n                if (matchesCssSelector(parents[i], selectorName)) {\r\n                    return handlerQueue.push({\r\n                        index: i,\r\n                        ctx: parents[index],\r\n                        target: parents[i],\r\n                        handlerOptions: handlers[selectorName],\r\n                    });\r\n                }\r\n            }\r\n        });\r\n    });\r\n    // Break if we couldn't find any matching element\r\n    if (handlerQueue.length === 0) {\r\n        return [];\r\n    }\r\n    // Sort the queue so events which are further up the dom are fired first\r\n    handlerQueue.sort(function (handlerA, handlerB) {\r\n        return handlerA.index > handlerB.index ? 1 : handlerA.index === handlerB.index ? 0 : -1;\r\n    });\r\n    return handlerQueue;\r\n}\r\n/**\r\n * The handler which will catch every event at the documentElement\r\n */\r\nfunction handleEvent(namespace, attributeName, eventHandlerRegistry, event) {\r\n    var target = event.target;\r\n    var handlers = getHandlers(attributeName, eventHandlerRegistry, target);\r\n    executeHandlers(handlers, event, namespace);\r\n}\r\nvar _domEventRegistry;\r\n/**\r\n * Returns the namespace registry for the given namespace..\r\n * This function must be used only by core or plugins\r\n */\r\nexport function getEventRegistry(namespace) {\r\n    if (!_domEventRegistry) {\r\n        _domEventRegistry = window[\"__\\ud83d\\udea1DomEvents\"] || {};\r\n        window[\"__\\ud83d\\udea1DomEvents\"] = _domEventRegistry;\r\n    }\r\n    if (!_domEventRegistry[namespace]) {\r\n        _domEventRegistry[namespace] = {};\r\n    }\r\n    return _domEventRegistry[namespace];\r\n}\r\n/**\r\n * Notify components\r\n * This function must be used by core or only by plugins\r\n */\r\nexport function executeHandlers(handlers, event, namespace) {\r\n    /** Store wether the original Event was modified to provide the correct currentTarget */\r\n    var eventObjectRequiresCleanup = false;\r\n    /** Store optional callback results which are executed together to allow grouped redraws */\r\n    var results = [];\r\n    var _loop_1 = function (i) {\r\n        var handlerObject = handlers[i];\r\n        var handlerOptions = handlerObject.handlerOptions;\r\n        var gondelComponent = extractComponent(handlerObject.ctx, namespace);\r\n        // Skip if the component wasn't started or if it was stopped\r\n        if (gondelComponent) {\r\n            // See https://stackoverflow.com/questions/52057726/what-is-the-best-way-to-alter-a-native-browser-event\r\n            Object.defineProperty(event, \"currentTarget\", {\r\n                get: function () { return handlerObject.target; },\r\n                configurable: true,\r\n            });\r\n            eventObjectRequiresCleanup = true;\r\n            for (var j = 0; j < handlerOptions.length && !event.cancelBubble; j++) {\r\n                var handlerResult = gondelComponent[handlerOptions[j].handlerName].call(gondelComponent, event);\r\n                if (typeof handlerResult === \"function\") {\r\n                    results.push(handlerResult);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    for (var i = 0; i < handlers.length && !event.cancelBubble; i++) {\r\n        _loop_1(i);\r\n    }\r\n    // Execute all callbacks to allow grouping write events\r\n    results.forEach(function (result) {\r\n        result();\r\n    });\r\n    // Cleanup the event object\r\n    if (eventObjectRequiresCleanup) {\r\n        // See https://stackoverflow.com/questions/52057726/what-is-the-best-way-to-alter-a-native-browser-event\r\n        delete event.currentTarget;\r\n    }\r\n}\r\n/**\r\n * Add a event lister to the <html> element\r\n * The listener will always call handleEvent with the domEventRegistry for the given event\r\n */\r\nfunction startListeningForEvent(eventName, namespace) {\r\n    document.documentElement.addEventListener(eventNameMapping[eventName] || eventName, handleEvent.bind(null, namespace, \"data-\" + namespace + \"-name\", getEventRegistry(namespace)[eventName]));\r\n}\r\n/**\r\n * Add an event to the Gondel EventRegistry\r\n */\r\nexport function addRootEventListener(namespace, domEventName, gondelComponentName, handlerName, handlerOption) {\r\n    // Create namespace if neededi\r\n    var namespacedDomEventRegistry = getEventRegistry(namespace);\r\n    // Notify all plugins to allow taking over the event handling for a specific event name\r\n    // This notification is only triggered if a event name e.g. 'click' is used for the first time\r\n    if (!namespacedDomEventRegistry[domEventName]) {\r\n        namespacedDomEventRegistry[domEventName] = {};\r\n        fireGondelPluginEvent(\"registerEvent\", true, {\r\n            eventName: domEventName,\r\n            namespace: namespace,\r\n            eventRegistry: namespacedDomEventRegistry[domEventName],\r\n        }, function (isNativeEvent) {\r\n            // If no plugin registered the event\r\n            // register a native browser event\r\n            if (isNativeEvent) {\r\n                startListeningForEvent(domEventName, namespace);\r\n            }\r\n        });\r\n    }\r\n    if (!namespacedDomEventRegistry[domEventName][gondelComponentName]) {\r\n        namespacedDomEventRegistry[domEventName][gondelComponentName] = {};\r\n    }\r\n    var handlerOptionObject = typeof handlerOption === \"object\" ? handlerOption : { selector: handlerOption };\r\n    var selectorKey = handlerOptionObject.selector || \"\";\r\n    if (!namespacedDomEventRegistry[domEventName][gondelComponentName][selectorKey]) {\r\n        namespacedDomEventRegistry[domEventName][gondelComponentName][selectorKey] = [];\r\n    }\r\n    namespacedDomEventRegistry[domEventName][gondelComponentName][selectorKey].push(Object.assign({ handlerName: handlerName, handlerOption: handlerOption }));\r\n}\r\n/**\r\n * Remove an event from the Gondel EventRegistry\r\n */\r\nexport function removeRootEventListener(namespace, domEventName, gondelComponentName, handlerName, selector) {\r\n    var selectorKey = selector || \"\";\r\n    var namespacedDomEventRegistry = getEventRegistry(namespace);\r\n    if (namespacedDomEventRegistry[domEventName] &&\r\n        namespacedDomEventRegistry[domEventName][gondelComponentName] &&\r\n        namespacedDomEventRegistry[domEventName][gondelComponentName][selectorKey]) {\r\n        namespacedDomEventRegistry[domEventName][gondelComponentName][selectorKey] = namespacedDomEventRegistry[domEventName][gondelComponentName][selectorKey].filter(function (handlerOption) {\r\n            return handlerOption.handlerName !== handlerName || handlerName === undefined;\r\n        });\r\n    }\r\n}\r\n/**\r\n * Remove all events for a given Component (e.g. a Button) from the Gondel EventRegistry\r\n */\r\nexport function removeRootEventListernerForComponent(namespace, gondelComponentName) {\r\n    var namespacedDomEventRegistry = getEventRegistry(namespace);\r\n    for (var eventName in namespacedDomEventRegistry) {\r\n        /* istanbul ignore else: for in savety check */\r\n        if (namespacedDomEventRegistry.hasOwnProperty(eventName)) {\r\n            delete namespacedDomEventRegistry[eventName][gondelComponentName];\r\n        }\r\n    }\r\n}\r\n//# sourceMappingURL=GondelEventRegistry.js.map","import { addRootEventListener, removeRootEventListernerForComponent } from \"./GondelEventRegistry\";\r\n// Because of how decorators work @EventListeners is executed before the class is registred\r\n// so we need to provide a hrm compatible approch initialize and reinitialize the events\r\nimport { addGondelPluginEventListener } from \"./GondelPluginUtils\";\r\nimport { registerComponent } from \"./index\";\r\nexport function Component(componentName, namespace) {\r\n    return function (constructor) {\r\n        registerComponent(componentName, namespace, constructor);\r\n    };\r\n}\r\nfunction hookEventDecoratorInCore() {\r\n    addGondelPluginEventListener(\"GondelDecorators\", \"register\", function (component, _a, next) {\r\n        var componentName = _a.componentName, namespace = _a.namespace, gondelComponentRegistry = _a.gondelComponentRegistry;\r\n        // Only apply in case the component is already active in the DOM\r\n        // this will only happen during hot module replacement\r\n        if (!gondelComponentRegistry._activeComponents[componentName]) {\r\n            return next(component);\r\n        }\r\n        // The decorator will store the event information in two different places.\r\n        // For ES6 classes it is using __events\r\n        // For ES5 prototype classes and transpiled ES6 classes it is using prototype.__events\r\n        var componentEventOptions = (component.prototype && component.prototype.__events) || component.__events;\r\n        if (componentEventOptions) {\r\n            componentEventOptions.forEach(function (eventOptions) {\r\n                addRootEventListener(namespace, \r\n                /* event name: */ eventOptions[0], componentName, \r\n                /* handler: */ eventOptions[1], \r\n                /* selector: */ eventOptions[2]);\r\n            });\r\n        }\r\n        next(component);\r\n    });\r\n    addGondelPluginEventListener(\"GondelDecorators\", \"unregister\", function (component, _a, next) {\r\n        var componentName = _a.componentName, namespace = _a.namespace;\r\n        removeRootEventListernerForComponent(namespace, componentName);\r\n        next(component);\r\n    });\r\n    addGondelPluginEventListener(\"GondelDecorators\", \"start\", function (gondelComponents, _a, next) {\r\n        var newComponentNames = _a.newComponentNames, gondelComponentRegistry = _a.gondelComponentRegistry, namespace = _a.namespace;\r\n        newComponentNames.forEach(function (componentName) {\r\n            var gondelComponent = gondelComponentRegistry.getComponent(componentName);\r\n            // The decorator will store the event information in two different places.\r\n            // For ES6 classes it is using __events\r\n            // For ES5 prototype classes and transpiled ES6 classes it is using prototype.__events\r\n            var componentEventOptions = (gondelComponent.prototype && gondelComponent.prototype.__events) ||\r\n                gondelComponent.__events;\r\n            if (componentEventOptions) {\r\n                componentEventOptions.forEach(function (eventOptions) {\r\n                    addRootEventListener(namespace, \r\n                    /* event name: */ eventOptions[0], componentName, \r\n                    /* handler: */ eventOptions[1], \r\n                    /* selector: */ eventOptions[2]);\r\n                });\r\n            }\r\n        });\r\n        next(gondelComponents);\r\n    });\r\n}\r\n/**\r\n * The @EventListener decorator will add all event names to a static variable\r\n */\r\nexport function EventListener(eventName, selector) {\r\n    return function (target, handler) {\r\n        hookEventDecoratorInCore();\r\n        if (handler.substr(0, 1) !== \"_\") {\r\n            throw new Error(\"Invalid handler name '\" + handler + \"' use '_\" + handler + \"' instead.\");\r\n        }\r\n        if (!target.__events) {\r\n            target.__events = [];\r\n        }\r\n        target.__events.push([eventName, handler, selector]);\r\n    };\r\n}\r\n//# sourceMappingURL=GondelDecorators.js.map","var GondelBaseComponent = /** @class */ (function () {\r\n    function GondelBaseComponent(domNode, componentName) {\r\n    }\r\n    /**\r\n     * Stop method\r\n     */\r\n    GondelBaseComponent.prototype.stop = function () { };\r\n    return GondelBaseComponent;\r\n}());\r\nexport { GondelBaseComponent };\r\n//# sourceMappingURL=GondelComponent.js.map"],"names":[],"mappings":"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"}